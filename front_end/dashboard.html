<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>DMD project</title>

    <!-- Bootstrap core CSS -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
    <link href="static/css/dashboard.css" rel="stylesheet">
    <link href="static/css/bootstrap.vertical-tabs.css" rel="stylesheet">
    <link href="static/css/buttons.css" rel="stylesheet">
    <link rel="stylesheet" href="static/css/slick.grid.css" type="text/css"/>
    <link rel="stylesheet" href="static/formvalidation/dist/css/formValidation.min.css">

    <script src="static/js/jquery-1.11.3.min.js"></script>
    <script src="static/js/jquery.jscroll.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
    <script src="static/formvalidation/dist/js/formValidation.js"></script>
    <script src="static/formvalidation/dist/js/framework/bootstrap.min.js"></script>
    <script type="text/javascript" src="static/js/jquery.bootpag.min.js"></script>

    <script language="JavaScript" type="text/javascript">
        function flexibleTextarea(b) {
            var a = document.getElementById(b) || b;
            if (a) {
                a.style.overflow = "hidden";
                var e = a.rows = a.rows > 0 ? a.rows : 2;
                b = a.cols = a.cols > 0 ? a.cols : 20;
                var g = RegExp("([^\r\n]{" + b + "})([^\r\n])"),
                        f = RegExp("[^\n]{" + b + "}\n?$|[^\n]{0," + b + "}\n");
                a.onkeyup = a.onkeydown = function () {
                    a.value = a.value.replace(g, "$1\r\n$2");
                    for (var c = 0, d = a.value; d.search(f) >= 0;) {
                        c++;
                        d = d.replace(f, "")
                    }
                    c++;
                    if (c < e) c = e;
                    a.rows = c
                }
            }
        }
        ;
        window.onload = function () {
            flexibleTextarea('textarea');
        }
    </script>

    <script language="JavaScript" type="text/javascript">
        function toggleText(button_id) {
            if (button_id == "B1") {
                document.getElementById("but1").firstChild.data = "Select";
            }
            else if (button_id == "B2") {
                document.getElementById('but1').firstChild.data = "Insert";
            }
            else if (button_id == "B3") {
                document.getElementById('but1').firstChild.data = "Delete";
            }
            else if (button_id == "B4") {
                document.getElementById('but1').firstChild.data = "Update";
            }
            else if (button_id == "B5") {
                document.getElementById('but1').firstChild.data = "Related";
            }
            else if (button_id == "B6") {
                document.getElementById('but1').firstChild.data = "Related";
            }
        }
    </script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
                //Получить название активной вкладки
                var activeTab = $(e.target).text();
                // Получить название предыдущей активной вкладки
                var previousTab = $(e.relatedTarget).text();
                $(".tab-active span").html(activeTab);
                $(".tab-previous span").html(previousTab);
            });
        });
    </script>

    <script type="text/javascript">
        var xmlhttp;
        var urlscroll;
        var number = 0;
        var numberOfCorteges = 0;

        // Are we using a modern browser or ...
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }

        function createTable(jsonObj) {
            var output = "<div class=\"table-responsive\">" +
                    "<table id = \"tableOfData\" class=\"table table-striped\">" + "</table>";
            document.getElementById("forin").innerHTML = output;
            numberOfCorteges = 0;
            isHeadAdded = false;
        }

        function addRow(tableID, jsonObj) {

            var row;

            var table = document.getElementById(tableID);
            for (var i = 1; i < jsonObj['req'].length; i++) {
                row = table.insertRow(numberOfCorteges + 1);
                for (var j = 0; j < jsonObj['req'][0].length; j++) {
                    row.insertCell(j).innerHTML = jsonObj['req'][i][j];
                }
                numberOfCorteges++;
            }

        }
        var isHeadAdded = false;
        function addHead(tableID, jsonObj) {
            var output = "<thead><tr>";
            for (var j = 0; j < jsonObj['req'][0].length; j++) {
                output += "<th>" + jsonObj['req'][0][j] + "</th>";
            }
            output += "</tr></thead><tbody></tbody>";

            document.getElementById(tableID).innerHTML = output;
            isHeadAdded = true;

        }

        // This will render the two output which substitute the
        // elements id="raw" and id="forin"
        //        function receive() {
        //            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
        //                // var jsonobj = eval ("(" + xmlhttp.responseText + ")");
        //                var jsonobj = JSON.parse(xmlhttp.responseText);
        //
        ////                var output = xmlhttp.responseText;
        //                //document.getElementById("raw").innerHTML = output;
        //
        //                var output = "<div class=\"table-responsive\">" +
        //                        "<table class=\"table table-striped\">" +
        //                        "<thead>" +
        //                        "<tr>";
        //                for (var j = 0; j < jsonobj['req'][0].length; j++) {
        //                    output += "<th>" + jsonobj['req'][0][j] + "</th>";
        //                }
        //                output += "</tr>" +
        //                        "</thead>";
        //
        //                for (var i = 1; i < jsonobj['req'].length; i++) {
        //                    output += '<tr>';
        //                    for (var j = 0; j < jsonobj['req'][0].length; j++) {
        //                        output += '<td>' + jsonobj['req'][i][j] + '</td>';
        //                    }
        //                    output += '</tr>';
        //                }
        //
        //                output += "</tbody> </table>";
        //                document.getElementById("forin").innerHTML = output;
        //
        //            }
        //        }


        //        xmlhttp.onload = receive;

        var last;
        function returnLastButton() {
            last = event.currentTarget.value;
        }
        var currentId;

        function sendFrom(id) {
            currentId = id;
            number = 0;
            createTable();
            buttonPushed();
            toIterate = 1;
            now = 0;
            numberOfTyples = 0;
//            generateLink();
        }


        function generateLink() {
            var dict = form_params(currentId);
            number++;
            dict['page'] = number;
            console.log(dict);
            return dict;
        }

        function generateQuery(obj) {
            var str = [];
            for (var p in obj)
                if (obj.hasOwnProperty(p)) {
                    str.push(encodeURIComponent(p) + "=" + encodeURIComponent(obj[p]));
                }
            return str.join("&");
        }

        function form_params(form) {
            var params = [];
            var el = document.getElementById("navigation");
            var length = form.elements.length;
            params["formname"] = form.name;
            params["page_size"] = 20;
            for (var i = 0; i < length; i++) {
                element = form.elements[i];

                if (element.tagName == 'TEXTAREA') {
                    params[element.name] = element.value
                }
                else if (element.tagName == 'INPUT') {
                    if (element.type == 'text' || element.type == 'hidden' || element.type == 'password') {
                        params[element.name] = element.value
                    }
                    else if (element.type == 'radio' && element.checked) {
                        if (!element.value)
                            params[element.name] = element.id;
                        else
                            params[element.name] = element.id;

                    }
                    else if (element.type == 'checkbox' && element.checked) {
                        if (!element.value)
                            params[element.name] = "on";
                        else
                            params[element.name] = element.value
                    }
                }
            }
            params["button"] = last;
            return params;
        }

        var numberOfTyples;
        var pageSize = 20;
        var toIterate = 1;
        var now;

        function load_new() {
            if (now < toIterate) {
                console.log("in Ajax", generateLink());
                var dict = form_params(currentId);
                dict['page'] = number;
                number++;
                var query = generateQuery(dict);
                console.log(query);
                xmlhttp.open("POST", "/getallitems.json?" + query, true);
                xmlhttp.send();


                xmlhttp.onload = function rec(data) {


                    if (data) {
                        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {

                            var jsonobj = JSON.parse(xmlhttp.responseText);


                            if (!isHeadAdded) {
                                addHead("tableOfData", jsonobj);
                                numberOfTyples = jsonobj['req'].length - 1;
                                toIterate = (numberOfTyples - numberOfTyples % pageSize) / pageSize;
                                if (numberOfTyples % pageSize > 0) {
                                    toIterate += 1;
                                }
                            }
                            addRow("tableOfData", jsonobj);
                            now++;
                            console.log('data append', jsonobj);

                            // Вызываем плагин
                            $("#content").jscroll({
                                autoTriggerUntil: 2,
                                debug: true
                            });
                        }
                    }
                };

                return false;
            }
        }

        function buttonPushed() {
            if (last == "Select" || last == "Run") {
                load_new();
            }
        }
        window.onscroll = function () {
            var scrolled = window.pageYOffset || document.documentElement.scrollTop;
            scrolled += window.innerHeight;
            var body = document.body,
                    html = document.documentElement;

            var height = Math.max(body.scrollHeight, body.offsetHeight,
                    html.clientHeight, html.scrollHeight, html.offsetHeight);
            if (scrolled >= height) {
                buttonPushed();
            }
            document.getElementById('showScroll').innerHTML = scrolled + 'px';
        }

        // xmlhttp.onreadystatechange = GetArticles;
        // the receive function will be triggered once the ajax
        // request is terminated.

    </script>


</head>

<body>


<!------------------------------------------------------------------------------------------------------------------------------------>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
            </button>
            <a class="topico navbar-brand" href="#">DMD Pr&#160;<span class="glyphicon glyphicon-globe"></span>&#160;ject
                <p id="showScroll"></p></a>

        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">

            </ul>

        </div>
    </div>
</nav>

<!------------------------------------------------------------------------------------------------------------------------------------>
<div class="container-fluid">
    <div class="row">

        <p></p>

        <div class="tabbable">
            <ul class="nav nav-pills nav-stacked col-md-2">
                <li class="active"><a href="#tab1" data-toggle="tab">Records manipulator</a></li>
                <li><a href="#tab2" data-toggle="tab">SQL queries console</a></li>
                <li><a href="#tab3" data-toggle="tab">Graphics</a></li>
            </ul>

            <div class="tab-content col-md-9">


                <!------------------------------------------------------------------------------------------------------------------------------------>
                <div class="tab-pane fade in active" id="tab1">

                    <h2>Records manipulator</h2>

                    <ul id="myTab2" class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#panely1"><span
                                class="glyphicon glyphicon-list-alt"></span></a></li>
                        <li><a data-toggle="tab" href="#panely2"><span class="glyphicon glyphicon-user"></span></a></li>
                        <li><a data-toggle="tab" href="#panely3"><span class="glyphicon glyphicon-tasks"></span></a>
                        </li>
                        <li><a data-toggle="tab" href="#panely4"><span class="glyphicon glyphicon-link"></span> </a>
                        </li>
                    </ul>

                    <div class="tab-content">
                        <!------------------------------------------------------------------------------------------------------------------------------------>
                        <div id="panely1" class="tab-pane fade in active">
                            <h2>Articles</h2>

                            <div class="col-xs-3"> <!-- required for floating -->
                                <!-- Nav tabs -->
                                <ul class="nav nav-tabs tabs-left">
                                    <li class="active"><a href="#select1" data-toggle="tab">Select</a></li>
                                    <li><a href="#insert1" data-toggle="tab">Insert</a></li>
                                    <li><a href="#update1" data-toggle="tab">Update</a></li>
                                    <li><a href="#delete1" data-toggle="tab">Delete</a></li>
                                </ul>
                            </div>

                            <div class="col-xs-9">
                                <!-- Tab panes -->
                                <div class="tab-content">
                                    <!------------------------------------------------------------------------------------------------------------------------------------>
                                    <div class="tab-pane fade in active" id="select1">

                                        <form class="form-horizontal" id="article_select" name="article_select"
                                              role="form">
                                            <div class="form-group">

                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="id" placeholder="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="title"
                                                           placeholder="title">
                                                    <span class="input-group-addon">Title</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="year"
                                                           placeholder="year">
                                                    <span class="input-group-addon">Year</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="venue_str"
                                                           placeholder="venue">
                                                    <span class="input-group-addon">Venue</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button type="submit" class="btn btn-primary"
                                                        onClick="returnLastButton();" value="Select">
                                            <span class="glyphicon glyphicon-search">
                                            </span>
                                                    &#160;Select
                                                </button>
                                                <button type="button" class="btn btn-primary dropdown-toggle"
                                                        data-toggle="dropdown"><span class="caret"></span></button>
                                                <ul class="dropdown-menu">
                                                    <li>
                                                        <span>&nbsp;&nbsp;</span>
                                                        <label>
                                                            <input checked="" type="radio" id="autors" name="sort_by">&nbsp;Sort
                                                            by autors
                                                        </label>
                                                    </li>
                                                    <li><span>&nbsp;&nbsp;</span><label><input type="radio" id="years"
                                                                                               name="sort_by">&nbsp;Sort
                                                        by years
                                                    </label></li>
                                                </ul>

                                            </div>
                                        </form>

                                    </div>
                                    <!------------------------------------------------------------------------------------------------------------------------------------>
                                    <div class="tab-pane" id="insert1">

                                        <form class="form-horizontal" id="article_insert" name="article_insert"
                                              role="form">
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="title" class="form-control"
                                                           placeholder="title">
                                                    <span class="input-group-addon">Title</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="year" class="form-control"
                                                           placeholder="year">
                                                    <span class="input-group-addon">Year</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="venue" class="form-control"
                                                           placeholder="venue">
                                                    <span class="input-group-addon">Venue</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Insert">
                                            <span class="glyphicon glyphicon-import">
                                            </span>&#160;Insert
                                                </button>
                                            </div>
                                        </form>

                                    </div>
                                    <!------------------------------------------------------------------------------------------------------------------------------------>
                                    <div class="tab-pane" id="update1">
                                        <form class="form-horizontal" id="article_update" name="article_update"
                                              role="form">
                                            <div class="form-group">

                                                <div class="input-group">
                                                    <input type="text" name="id" class="form-control" placeholder="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="title" class="form-control"
                                                           placeholder="title">
                                                    <span class="input-group-addon">Title</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="year" class="form-control"
                                                           placeholder="year">
                                                    <span class="input-group-addon">Year</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="venue" class="form-control"
                                                           placeholder="venue">
                                                    <span class="input-group-addon">Venue</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button type="submit" class="btn btn-primary"
                                                        onClick="returnLastButton();" value="Update">
                                            <span class="glyphicon glyphicon-refresh">
                                            </span>
                                                    &#160;Update
                                                </button>
                                                <button type="submit" class="btn btn-primary"
                                                        onClick="returnLastButton();" value="Show">
                                            <span class="glyphicon glyphicon-eye-open">
                                            </span>
                                                    &#160;Show
                                                </button>
                                            </div>
                                        </form>

                                    </div>
                                    <!------------------------------------------------------------------------------------------------------------------------------------>
                                    <div class="tab-pane" id="delete1">

                                        <form class="form-horizontal" id="article_delete" name="article_delete"
                                              role="form">
                                            <div class="form-group">

                                                <div class="input-group">
                                                    <input type="text" class="form-control" placeholder="id" name="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-danger" onClick="returnLastButton();"
                                                        value="Delete">
                                            <span class="glyphicon glyphicon-trash">
                                            </span>
                                                    &#160;Delete
                                                </button>
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Show">
                                            <span class="glyphicon glyphicon-eye-open">
                                            </span>
                                                    &#160;Show
                                                </button>
                                            </div>
                                        </form>

                                    </div>
                                </div>
                            </div>

                        </div>
                        <!------------------------------------------------------------------------------------------------------------------------------------>
                        <!------------------------------------------------------------------------------------------------------------------------------------>
                        <!------------------------------------------------------------------------------------------------------------------------------------>
                        <div id="panely2" class="tab-pane fade">
                            <h2>Authors</h2>

                            <div class="col-xs-3"> <!-- required for floating -->
                                <!-- Nav tabs -->
                                <ul class="nav nav-tabs tabs-left">
                                    <li class="active"><a href="#select2" data-toggle="tab">Select</a></li>
                                    <li><a href="#insert2" data-toggle="tab">Insert</a></li>
                                    <li><a href="#update2" data-toggle="tab">Update</a></li>
                                    <li><a href="#delete2" data-toggle="tab">Delete</a></li>
                                </ul>
                            </div>

                            <div class="col-xs-9">
                                <!-- Tab panes -->
                                <div class="tab-content">
                                    <div class="tab-pane fade in active" id="select2">

                                        <form class="form-horizontal" id="author_select" name="author_select"
                                              role="form">
                                            <div class="form-group">

                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="id" placeholder="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="namea"
                                                           placeholder="name">
                                                    <span class="input-group-addon">Name</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Select">
                                            <span class="glyphicon glyphicon-search">
                                            </span>
                                                    &#160;Select
                                                </button>
                                                <button type="button" class="btn btn-primary dropdown-toggle"
                                                        data-toggle="dropdown"><span class="caret"></span></button>
                                                <ul class="dropdown-menu">
                                                    <li>
                                                        <span>&nbsp;&nbsp;</span>
                                                        <label>
                                                            <input checked="" type="radio" id="autors" name="sort_by">&nbsp;Sort
                                                            by autors
                                                        </label>
                                                    </li>
                                                    <li><span>&nbsp;&nbsp;</span><label><input type="radio" id="years"
                                                                                               name="sort_by">&nbsp;Sort
                                                        by years
                                                    </label></li>
                                                </ul>

                                            </div>
                                        </form>

                                    </div>
                                    <div class="tab-pane" id="insert2">
                                        <form class="form-horizontal" id="author_insert" name="author_insert"
                                              role="form">
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="namea" class="form-control"
                                                           placeholder="name">
                                                    <span class="input-group-addon">Name</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Insert">
                                            <span class="glyphicon glyphicon-import">
                                            </span>&#160;Insert
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="tab-pane" id="update2">
                                        <form class="form-horizontal" id="author_update" name="author_update"
                                              role="form">
                                            <div class="form-group">

                                                <div class="input-group">
                                                    <input type="text" name="id" class="form-control" placeholder="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="namea" class="form-control"
                                                           placeholder="name">
                                                    <span class="input-group-addon">Name</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Update">
                                            <span class="glyphicon glyphicon-refresh">
                                            </span>
                                                    &#160;Update
                                                </button>
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Show">
                                            <span class="glyphicon glyphicon-eye-open">
                                            </span>
                                                    &#160;Show
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="tab-pane" id="delete2">
                                        <form class="form-horizontal" id="author_delete" name="author_delete"
                                              role="form">
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" placeholder="id" name="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-danger" onClick="returnLastButton();"
                                                        value="Delete">
                                            <span class="glyphicon glyphicon-trash">
                                            </span>
                                                    &#160;Delete
                                                </button>
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Show">
                                            <span class="glyphicon glyphicon-eye-open">
                                            </span>
                                                    &#160;Show
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <!------------------------------------------------------------------------------------------------------------------------------------>
                        <!------------------------------------------------------------------------------------------------------------------------------------>
                        <!------------------------------------------------------------------------------------------------------------------------------------>
                        <div id="panely3" class="tab-pane fade">
                            <h2>Venues</h2>

                            <div class="col-xs-3"> <!-- required for floating -->
                                <!-- Nav tabs -->
                                <ul class="nav nav-tabs tabs-left">
                                    <li class="active"><a href="#select3" data-toggle="tab">Select</a></li>
                                    <li><a href="#insert3" data-toggle="tab">Insert</a></li>
                                    <li><a href="#update3" data-toggle="tab">Update</a></li>
                                    <li><a href="#delete3" data-toggle="tab">Delete</a></li>
                                </ul>
                            </div>

                            <div class="col-xs-9">
                                <!-- Tab panes -->
                                <div class="tab-content">
                                    <div class="tab-pane fade in active" id="select3">

                                        <form class="form-horizontal" id="venue_select" name="venue_select"
                                              role="form">
                                            <div class="form-group">

                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="id" placeholder="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="origin"
                                                           placeholder="origin">
                                                    <span class="input-group-addon">Origin</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Select">
                                            <span class="glyphicon glyphicon-search">
                                            </span>
                                                    &#160;Select
                                                </button>
                                                <button type="button" class="btn btn-primary dropdown-toggle"
                                                        data-toggle="dropdown"><span class="caret"></span></button>
                                                <ul class="dropdown-menu">
                                                    <li>
                                                        <span>&nbsp;&nbsp;</span>
                                                        <label>
                                                            <input checked="" type="radio" id="autors" name="sort_by">&nbsp;Sort
                                                            by autors
                                                        </label>
                                                    </li>
                                                    <li><span>&nbsp;&nbsp;</span><label><input type="radio" id="years"
                                                                                               name="sort_by">&nbsp;Sort
                                                        by years
                                                    </label></li>
                                                </ul>

                                            </div>
                                        </form>

                                    </div>
                                    <div class="tab-pane" id="insert3">
                                        <form class="form-horizontal" id="venue_insert" name="venue_insert"
                                              role="form">
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="origin" class="form-control"
                                                           placeholder="origin">
                                                    <span class="input-group-addon">Origin</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Insert">
                                            <span class="glyphicon glyphicon-import">
                                            </span>&#160;Insert
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="tab-pane" id="update3">
                                        <form class="form-horizontal" id="venue_update" name="venue_update"
                                              role="form">
                                            <div class="form-group">

                                                <div class="input-group">
                                                    <input type="text" name="id" class="form-control" placeholder="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="origin" class="form-control"
                                                           placeholder="origin">
                                                    <span class="input-group-addon">Origin</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Update">
                                            <span class="glyphicon glyphicon-refresh">
                                            </span>
                                                    &#160;Update
                                                </button>
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Show">
                                            <span class="glyphicon glyphicon-eye-open">
                                            </span>
                                                    &#160;Show
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="tab-pane" id="delete3">
                                        <form class="form-horizontal" id="venue_delete" name="venue_delete"
                                              role="form">
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" placeholder="id" name="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-danger" onClick="returnLastButton();"
                                                        value="Delete">
                                            <span class="glyphicon glyphicon-trash">
                                            </span>
                                                    &#160;Delete
                                                </button>
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Show">
                                            <span class="glyphicon glyphicon-eye-open">
                                            </span>
                                                    &#160;Show
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <!------------------------------------------------------------------------------------------------------------------------------------>
                        <!------------------------------------------------------------------------------------------------------------------------------------>
                        <!------------------------------------------------------------------------------------------------------------------------------------>
                        <div id="panely4" class="tab-pane fade">
                            <h2>Links</h2>

                            <div class="col-xs-3"> <!-- required for floating -->
                                <!-- Nav tabs -->
                                <ul class="nav nav-tabs tabs-left">
                                    <li class="active"><a href="#select4" data-toggle="tab">Select</a></li>
                                    <li><a href="#insert4" data-toggle="tab">Insert</a></li>
                                    <li><a href="#delete4" data-toggle="tab">Delete</a></li>
                                </ul>
                            </div>

                            <div class="col-xs-9">
                                <!-- Tab panes -->
                                <div class="tab-content">
                                    <div class="tab-pane fade in active" id="select4">

                                        <form class="form-horizontal" id="links_select" name="links_select"
                                              role="form">
                                            <div class="form-group">

                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="id" placeholder="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="link_id"
                                                           placeholder="link_id">
                                                    <span class="input-group-addon">Link</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Select">
                                            <span class="glyphicon glyphicon-search">
                                            </span>
                                                    &#160;Select
                                                </button>
                                                <button type="button" class="btn btn-primary dropdown-toggle"
                                                        data-toggle="dropdown"><span class="caret"></span></button>
                                                <ul class="dropdown-menu">
                                                    <li>
                                                        <span>&nbsp;&nbsp;</span>
                                                        <label>
                                                            <input checked="" type="radio" id="autors" name="sort_by">&nbsp;Sort
                                                            by autors
                                                        </label>
                                                    </li>
                                                    <li><span>&nbsp;&nbsp;</span><label><input type="radio" id="years"
                                                                                               name="sort_by">&nbsp;Sort
                                                        by years
                                                    </label></li>
                                                </ul>

                                            </div>
                                        </form>

                                    </div>
                                    <div class="tab-pane" id="insert4">
                                        <form class="form-horizontal" id="links_insert" name="links_insert"
                                              role="form">
                                            <div class="form-group">

                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="id" placeholder="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="link_id" class="form-control"
                                                           placeholder="link_id">
                                                    <span class="input-group-addon">Link</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Insert">
                                            <span class="glyphicon glyphicon-import">
                                            </span>&#160;Insert
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="tab-pane" id="delete4">
                                        <form class="form-horizontal" id="links_delete" name="links_delete"
                                              role="form">
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" placeholder="id" name="id">
                                                    <span class="input-group-addon">ID</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" placeholder="link_id"
                                                           name="link_id">
                                                    <span class="input-group-addon">Link</span>
                                                </div>
                                            </div>

                                            <div class="btn-group">
                                                <button class="btn btn-danger" onClick="returnLastButton();"
                                                        value="Delete">
                                            <span class="glyphicon glyphicon-trash">
                                            </span>
                                                    &#160;Delete
                                                </button>
                                                <button class="btn btn-primary" onClick="returnLastButton();"
                                                        value="Show">
                                            <span class="glyphicon glyphicon-eye-open">
                                            </span>
                                                    &#160;Show
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <!------------------------------------------------------------------------------------------------------------------------------------>
                    <div class="row">
                    </div>

                </div>

                <!------------------------------------------------------------------------------------------------------------------------------------>
                <div class="tab-pane" id="tab2">
                    <h2>SQL query console</h2>

                    <form class="form-horizontal" id="SQLQueryexecutor" name="SQLQueryexecutor"
                          role="form">
                        <textarea id="textarea" name="SQLquery" placeholder="Write your SQL query here..."
                                  class="form-control" cols="130" rows="10"></textarea>

                        <p></p>

                        <div class="btn-group">
                            <button class="btn btn-primary" value="Run"
                                    onClick="sendFrom(document.getElementById('SQLQueryexecutor')); return false;">Run
                                <span class="glyphicon glyphicon-play"></span></button>
                            <button type="button" class="btn btn-primary dropdown-toggle"
                                    data-toggle="dropdown"><span class="caret"></span></button>
                            <ul class="dropdown-menu">
                                <li><span>&nbsp;&nbsp;</span>
                                    <label><input checked="" type="radio" id="authors" name="sort_by">&nbsp;Sort by
                                        autors</label>
                                </li>
                                <li><span>&nbsp;&nbsp;</span><label><input type="radio" id="years" name="sort_by">&nbsp;Sort
                                    by years</label></li>
                            </ul>
                        </div>
                    </form>


                </div>

                <!------------------------------------------------------------------------------------------------------------------------------------>
                <div class="tab-pane" id="tab3">

                    <h2>Graphics</h2>

                    <p>FYODOR ETO TY?
                        PSHHH , PSHHH , PSHHH! NICHEGO NE SLISHNO! </p>


                </div>
                <!------------------------------------------------------------------------------------------------------------------------------------>


                <div class="row">

                    <div class="col-md-2 col-md-offset-5"></div>

                    <h2 class="sub-header"> Result</h2>


                    <!--TODO Lazy loading-->


                    <div class="content">
                        <div id="forin">

                        </div>
                    </div>

                    <a id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top" role="button"
                       title="Click to return on the top page" data-toggle="tooltip" data-placement="left">
                        <span class="glyphicon glyphicon-chevron-up"></span>
                    </a>
                </div>


            </div>
            <!------------------------------------------------------------------------------------------------------------------------------------>

        </div>
    </div>


</div>
</div>


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->


<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>


<!--*********************************************************************************************************************-->
<script language="JavaScript" type="text/javascript">
    $(document).ready(function () {
        $('#article_select').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                },
                year: {
                    validators: {
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The year can only consist of integers'
                        },
                        between: {
                            min: 1900,
                            max: 2015,
                            message: 'The year must be between 1900 and 2015'
                        }
                    }
                },
                title: {
                    validators: {}
                },
                venue_str: {
                    validators: {}
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('article_select'));

            return false;
        });
        $('#article_insert').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                year: {
                    validators: {
                        notEmpty: {
                            message: 'The year is required'
                        },
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The year can only consist of integers'
                        },
                        between: {
                            min: 1900,
                            max: 2015,
                            message: 'The year must be between 1900 and 2015'
                        }
                    }
                },
                title: {
                    validators: {
                        notEmpty: {
                            message: 'The title is required'
                        },

                    }
                },
                venue: {
                    validators: {
                        notEmpty: {
                            message: 'The venue is required'
                        },

                    }
                }
            }
        }).on('success.form.fv', function (e) {
            console.log('valid');
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('article_insert'));
            return false;
        });
        $('#article_update').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        notEmpty: {
                            message: 'The id is required'
                        },
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                },
                year: {
                    validators: {
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The year can only consist of integers'
                        },
                        between: {
                            min: 1900,
                            max: 2015,
                            message: 'The year must be between 1900 and 2015'
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('article_update'));
            return false;
        });
        $('#article_delete').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        notEmpty: {
                            message: 'The id is required'
                        },
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('article_delete'));
            return false;
        });
        $('#author_select').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                },
                namea: {
                    validators: {}
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('author_select'));
            return false;
        });
        $('#author_insert').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                namea: {
                    validators: {
                        notEmpty: {
                            message: 'name is required'
                        }
                    }
                }

            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('author_insert'));
            return false;
        });
        $('#author_update').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        notEmpty: {
                            message: 'The id is required'
                        },
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('author_update'));
            return false;
        });
        $('#author_delete').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        notEmpty: {
                            message: 'The id is required'
                        },
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('author_delete'));
            return false;
        });
        $('#venue_select').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('venue_select'));
            return false;
        });
        $('#venue_insert').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                origin: {
                    validators: {
                        notEmpty: {
                            message: 'origin is required'
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('venue_insert'));
            return false;
        });
        $('#venue_update').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        notEmpty: {
                            message: 'The id is required'
                        },
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('venue_update'));
            return false;
        });
        $('#venue_delete').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        notEmpty: {
                            message: 'The id is required'
                        },
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('venue_delete'));
            return false;
        });
        $('#links_select').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                },
                link_id: {
                    validators: {
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('links_select'));
            return false;
        });
        $('#links_insert').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        notEmpty: {
                            message: 'The id is required'
                        },
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                },
                link_id: {
                    validators: {
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The link_id can only consist of integers'
                        },
                        notEmpty: {
                            message: 'The link_id is required'
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('links_insert'));
            return false;
        });
        ;
        $('#links_delete').formValidation({
            framework: 'bootstrap',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                id: {
                    validators: {
                        notEmpty: {
                            message: 'The id is required'
                        },
                        regexp: {
                            regexp: /^\d+$/,
                            message: 'The id can only consist of integers'
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target),        // The form instance
                    fv = $(e.target).data('formValidation'); // FormValidation instance
            sendFrom(document.getElementById('links_delete'));
            return false;
        });
        $('.scroll').jscroll();

        $(window).scroll(function () {
            if ($(this).scrollTop() > 50) {
                $('#back-to-top').fadeIn();
            } else {
                $('#back-to-top').fadeOut();
            }
        });
        // scroll body to 0px on click
        $('#back-to-top').click(function () {
            $('#back-to-top').tooltip('hide');
            $('body,html').animate({
                scrollTop: 0
            }, 800);
            return false;
        });

        $('#back-to-top').tooltip('show');

    });
</script>

</body>
</html>
